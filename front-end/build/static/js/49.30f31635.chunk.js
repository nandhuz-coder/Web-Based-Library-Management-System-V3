"use strict";(self.webpackChunkfront_end=self.webpackChunkfront_end||[]).push([[49],{49:(e,s,a)=>{a.r(s),a.d(s,{default:()=>i});var t=a(43),l=a(216),r=a(213),o=a(466),n=a(843),c=a(579);const i=()=>{const[e,s]=(0,t.useState)(!0),{bookid:a}=(0,l.g)(),i=(0,l.Zp)(),[d,m]=(0,t.useState)({}),[h,u]=(0,t.useState)(""),[x,p]=(0,t.useState)("");(0,t.useEffect)((()=>{(async()=>{try{const e=await r.A.get("/admin/book/update/".concat(a));m(e.data.book),s(!1)}catch(e){console.log(e),u("Error fetching book data"),s(!1)}})()}),[a]);const j=e=>{const{name:s,value:a}=e.target;m({...d,[s]:a})};return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(t.Suspense,{fallback:(0,c.jsx)(n.A,{}),children:(0,c.jsx)("div",{className:"container my-4",children:(0,c.jsx)("div",{className:"row justify-content-center",children:(0,c.jsxs)("div",{className:"col card",style:{marginTop:"20px",marginBottom:"20px",border:"1px solid black",paddingTop:"20px",paddingBottom:"20px"},children:[(0,c.jsx)("div",{className:"card-header text-center",style:{background:"rgb(100, 170, 236)",marginBottom:"10px"},children:(0,c.jsx)("h4",{children:"Edit Book"})}),(0,c.jsx)(o.A,{success:x,error:h,dismissAlert:e=>{"error"===e?u(""):"success"===e&&p("")}}),e&&(0,c.jsx)(n.A,{}),(0,c.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=await r.A.post("/api/admin/book/update/".concat(a),{book:d});e.data.success?(p(e.data.success),i("/admin/books/bookInventory/")):e.data.error&&u(e.data.error)}catch(s){console.log(s),u("Error updating book")}},children:[(0,c.jsxs)("div",{className:"row",children:[(0,c.jsxs)("div",{className:"col-md-6",children:[(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"title",className:"form-control-label",children:"Edit Title"}),(0,c.jsx)("input",{name:"title",type:"text",className:"form-control",value:d.title||"",onChange:j})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"author",className:"form-control-label",children:"Edit Author"}),(0,c.jsx)("input",{name:"author",type:"text",className:"form-control",value:d.author||"",onChange:j})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"category",className:"form-control-label",children:"Edit Category"}),(0,c.jsxs)("select",{className:"form-control",name:"category",value:d.category||"",onChange:j,required:!0,children:[(0,c.jsx)("option",{value:"Fiction",children:"Fiction"}),(0,c.jsx)("option",{value:"Novel",children:"Novel"}),(0,c.jsx)("option",{value:"Short Story",children:"Short Story"}),(0,c.jsx)("option",{value:"Educational",children:"Educational"}),(0,c.jsx)("option",{value:"Religious",children:"Religious"}),(0,c.jsx)("option",{value:"History",children:"History"})]})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"ISBN",className:"form-control-label",children:"ISBN"}),(0,c.jsx)("input",{name:"ISBN",type:"text",className:"form-control",readOnly:!0,value:d.ISBN||""})]})]}),(0,c.jsxs)("div",{className:"col-md-6",children:[(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"stock",className:"form-control-label",children:"Stock"}),(0,c.jsx)("input",{type:"number",id:"book-stock",name:"stock",value:d.stock||"",className:"form-control",onChange:j})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"description",children:"Edit Description"}),(0,c.jsx)("textarea",{name:"description",cols:"30",rows:"10",className:"form-control",value:d.description||"",onChange:j})]})]})]}),(0,c.jsx)("button",{className:"btn btn-primary btn-block",id:"update-book-btn",style:{width:"50%",marginLeft:"25%"},children:"Update!"})]})]})})})})})}},466:(e,s,a)=>{a.d(s,{A:()=>l});a(43);var t=a(579);const l=e=>{let{error:s,success:a,warning:l,dismissAlert:r}=e;return(0,t.jsxs)("div",{className:"container my-2 sticky-top",children:[s&&s.length>0&&(0,t.jsxs)("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:[s,(0,t.jsx)("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",onClick:()=>r("error"),children:(0,t.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),a&&a.length>0&&(0,t.jsxs)("div",{className:"alert alert-success alert-dismissible fade show",role:"alert",children:[a,(0,t.jsx)("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",onClick:()=>r("success"),children:(0,t.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),l&&l.length>0&&(0,t.jsxs)("div",{className:"alert alert-warning alert-dismissible fade show",role:"alert",children:[l,(0,t.jsx)("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",onClick:()=>r("warning"),children:(0,t.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]})]})}}}]);
//# sourceMappingURL=49.30f31635.chunk.js.map