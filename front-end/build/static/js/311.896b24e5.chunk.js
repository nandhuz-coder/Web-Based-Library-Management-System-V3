"use strict";(self.webpackChunkfront_end=self.webpackChunkfront_end||[]).push([[311],{311:(e,a,s)=>{s.r(a),s.d(a,{default:()=>d});var r=s(43),l=s(216),o=s(466),n=s(843),t=s(314),i=s(213),c=s(579);const d=()=>{const[e,a]=(0,r.useState)({error:"",success:"",warning:""}),[s,d]=(0,r.useState)({title:"",author:"",ISBN:"",category:"",stock:"",description:""}),m=(0,l.Zp)(),h=e=>{const{name:a,value:r}=e.target;d({...s,[a]:r})};return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(r.Suspense,{fallback:(0,c.jsx)(n.A,{}),children:[(0,c.jsx)(t.A,{}),(0,c.jsx)("header",{id:"main-header",className:"py-2 bg-primary text-white",children:(0,c.jsx)("div",{className:"container",children:(0,c.jsx)("div",{className:"row",children:(0,c.jsx)("div",{className:"col-md-6",children:(0,c.jsxs)("h1",{children:[(0,c.jsx)("i",{className:"fa fa-book"})," Add Book"]})})})})}),(0,c.jsx)("div",{className:"container",children:(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)(o.A,{error:e.error,success:e.success,warning:e.warning,dismissAlert:s=>{a({...e,[s]:""})}}),(0,c.jsxs)("div",{className:"col card",style:{marginTop:"20px",marginBottom:"20px",border:"1px solid black"},children:[(0,c.jsx)("div",{className:"card-header text-center",style:{background:"rgb(100, 170, 236)"},children:(0,c.jsx)("h4",{children:"Add Book"})}),(0,c.jsx)("form",{className:"p-3",onSubmit:async r=>{r.preventDefault();try{i.A.post("/api/admin/add/book",{book:s}).then((s=>{console.log(s.data),s.data.success&&a({...e,success:s.data.success,error:"",warning:""}),s.data.error&&a({...e,success:"",error:s.data.error,warning:""})})),m("/admin/books/bookInventory/")}catch(l){a({...e,error:l.message,success:"",warning:""}),console.log(l)}},children:(0,c.jsxs)("div",{className:"row",children:[(0,c.jsxs)("div",{className:"col-md-6",children:[(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{className:"form-control-label",children:"Title"}),(0,c.jsx)("input",{type:"text",name:"title",id:"book-title",placeholder:"Book Title",className:"form-control",value:s.title,onChange:h,required:!0})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{className:"form-control-label",children:"Author Name"}),(0,c.jsx)("input",{type:"text",name:"author",id:"book-author",placeholder:"Author Name",className:"form-control",value:s.author,onChange:h,required:!0})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{className:"form-control-label",children:"ISBN"}),(0,c.jsx)("input",{type:"text",name:"ISBN",id:"book-ISBN",placeholder:"ISBN",className:"form-control",value:s.ISBN,onChange:h,required:!0})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{className:"form-control-label",children:"Category"}),(0,c.jsxs)("select",{className:"form-control",name:"category",id:"book-category",value:s.category,onChange:h,required:!0,children:[(0,c.jsx)("option",{value:"",children:"Book Category"}),(0,c.jsx)("option",{value:"Fiction",children:"Fiction"}),(0,c.jsx)("option",{value:"Novel",children:"Novel"}),(0,c.jsx)("option",{value:"Short Story",children:"Short Story"}),(0,c.jsx)("option",{value:"Educational",children:"Educational"}),(0,c.jsx)("option",{value:"Religious",children:"Religious"}),(0,c.jsx)("option",{value:"History",children:"History"})]})]})]}),(0,c.jsxs)("div",{className:"col-md-6",children:[(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{className:"form-control-label",children:"Stock"}),(0,c.jsx)("input",{type:"number",name:"stock",id:"book-stock",placeholder:"Book Stocks",className:"form-control",value:s.stock,onChange:h,required:!0})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{className:"form-control-label",children:"Book Description"}),(0,c.jsx)("textarea",{name:"description",id:"book-description",cols:"30",rows:"5",className:"form-control",value:s.description,onChange:h,required:!0})]})]}),(0,c.jsx)("button",{type:"submit",className:"btn btn-primary btn-block",id:"add-book-btn",style:{width:"50%",marginLeft:"25%"},children:"Add Book"})]})})]})]})})]})})}},314:(e,a,s)=>{s.d(a,{A:()=>i});var r=s(43),l=s(213),o=s(216),n=s(475),t=s(579);const i=()=>{const[e,a]=(0,r.useState)([]),[s,i]=(0,r.useState)(),c=async()=>{try{const e=await l.A.get("/api/global"),s=await e.data;a(s.global),i(s.currentUser)}catch(e){console.error("Error fetching data",e)}};(0,r.useEffect)((()=>{c();const e=setInterval((()=>{c()}),6e4);return()=>clearInterval(e)}),[]);const d=(0,o.Zp)();return(0,t.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark p-0 sticky-top",children:(0,t.jsxs)("div",{className:"container",children:[(0,t.jsx)("a",{className:"navbar-brand",href:"/admin",children:"Home"}),(0,t.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:(0,t.jsx)("span",{className:"navbar-toggler-icon"})}),(0,t.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[(0,t.jsxs)("ul",{className:"navbar-nav",children:[(0,t.jsx)("li",{className:"nav-item px-2",children:(0,t.jsx)(n.N_,{to:"/admin/books/bookInventory/",id:"book_inventory",title:"Book Inventory",className:"nav-link",children:"Book Inventory"})}),(0,t.jsx)("li",{className:"nav-item px-2",children:(0,t.jsx)(n.N_,{to:"/admin/1/users/",id:"users_list",title:"Users",className:"nav-link",children:"Users"})}),(0,t.jsx)("li",{className:"nav-item px-2",children:(0,t.jsx)(n.N_,{to:"/admin/1/addbook",id:"add_book",title:"Add Books",className:"nav-link",children:"Add Books"})}),(0,t.jsx)("li",{className:"nav-item px-2",children:(0,t.jsxs)(n.N_,{to:"/admin/1/book/stockout",id:"stock_out",title:"Stock Out",className:"nav-link",children:["StockOut\xa0",(0,t.jsx)("span",{className:"badge badge-danger",children:e.stock?e.stock:0})]})}),(0,t.jsx)("li",{className:"nav-item px-2",children:(0,t.jsxs)(n.N_,{to:"/admin/1/book/request",id:"request",title:"request",className:"nav-link",children:["Request\xa0",(0,t.jsx)("span",{className:"badge badge-success",children:e.reqbook?e.reqbook:0})]})}),(0,t.jsx)("li",{className:"nav-item px-2",children:(0,t.jsxs)(n.N_,{to:"/admin/1/book/return",id:"return",title:"return",className:"nav-link",children:["Return\xa0",(0,t.jsx)("span",{className:"badge badge-warning",children:e.return?e.return:0})]})}),(0,t.jsx)("li",{className:"nav-item px-2",children:(0,t.jsx)(n.N_,{to:"/books",title:"Browse Books",className:"nav-link",children:"Browse Books"})})]}),(0,t.jsx)("ul",{className:"navbar-nav ml-auto",children:s?(0,t.jsxs)("li",{className:"nav-item dropdown mr-3",children:[(0,t.jsxs)("a",{href:"#",className:"nav-link dropdown-toggle","data-toggle":"dropdown",id:"admin-drop-down",children:[(0,t.jsx)("i",{className:"fa fa-user"})," Welcome ",s.username]}),(0,t.jsxs)("div",{className:"dropdown-menu",children:[(0,t.jsxs)(n.N_,{to:"/admin/1/profile",title:"profile",className:"dropdown-item",children:[(0,t.jsx)("i",{className:"fa fa-user-circle"})," Profile"]}),(0,t.jsxs)("a",{href:"",onClick:e=>(async e=>{try{e.preventDefault(),await l.A.get("/auth/1/user-logout"),d("/")}catch(a){d("/")}})(e),className:"dropdown-item",children:[(0,t.jsx)("i",{className:"fa fa-user-times"})," Logout"]}),(0,t.jsxs)(n.N_,{className:"dropdown-item",to:"/user/dashboard/1",children:[(0,t.jsx)("i",{className:"fa fa-gear"})," User Dashboard"]})]})]}):(0,t.jsx)("li",{className:"nav-item",children:(0,t.jsxs)("a",{href:"/login",className:"nav-link",children:[(0,t.jsx)("i",{className:"fa fa-gear"})," ProfileLogin"]})})})]})]})})}},466:(e,a,s)=>{s.d(a,{A:()=>l});s(43);var r=s(579);const l=e=>{let{error:a,success:s,warning:l,dismissAlert:o}=e;return(0,r.jsxs)("div",{className:"container my-2 sticky-top",children:[a&&a.length>0&&(0,r.jsxs)("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:[a,(0,r.jsx)("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",onClick:()=>o("error"),children:(0,r.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),s&&s.length>0&&(0,r.jsxs)("div",{className:"alert alert-success alert-dismissible fade show",role:"alert",children:[s,(0,r.jsx)("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",onClick:()=>o("success"),children:(0,r.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),l&&l.length>0&&(0,r.jsxs)("div",{className:"alert alert-warning alert-dismissible fade show",role:"alert",children:[l,(0,r.jsx)("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",onClick:()=>o("warning"),children:(0,r.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]})]})}}}]);
//# sourceMappingURL=311.896b24e5.chunk.js.map