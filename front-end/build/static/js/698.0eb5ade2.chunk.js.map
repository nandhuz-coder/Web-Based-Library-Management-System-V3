{"version":3,"file":"static/js/698.0eb5ade2.chunk.js","mappings":"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","sources":["book/books.jsx","partials/Header/alert/alert.jsx"],"sourcesContent":["import React, { useState, useEffect, Suspense, useCallback } from 'react';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\nimport Alert from '../partials/Header/alert/alert';\r\nimport Loading from '../Loading/Loading';\r\nlet fetchBooks;\r\n\r\nconst Navbar = ({ currentUser, logout }) => (\r\n    <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark p-0 sticky-top\">\r\n        <div className=\"container\">\r\n            <Link className=\"navbar-brand\" to={!currentUser ? \"/\" : currentUser.isAdmin ? \"/admin\" : \"/user/dashboard/1\"}>Home</Link>\r\n            <button\r\n                className=\"navbar-toggler\"\r\n                type=\"button\"\r\n                data-toggle=\"collapse\"\r\n                data-target=\"#navbarSupportedContent\"\r\n                aria-controls=\"navbarSupportedContent\"\r\n                aria-expanded=\"false\"\r\n                aria-label=\"Toggle navigation\"\r\n            >\r\n                <span className=\"navbar-toggler-icon\"></span>\r\n            </button>\r\n            <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n                <ul className=\"navbar-nav\">\r\n                    <li className=\"nav-item active px-2\">\r\n                        <Link className=\"nav-link\" to=\"/books\">Browse Books</Link>\r\n                    </li>\r\n                </ul>\r\n                {currentUser ? (\r\n                    <ul className=\"navbar-nav ml-auto\">\r\n                        {currentUser.violationFlag && (\r\n                            <li className=\"nav-item align-self-center mr-2\">\r\n                                <i className=\"fa fa-flag text-danger\"></i>\r\n                            </li>\r\n                        )}\r\n                        <li className=\"nav-item dropdown mr-3\">\r\n                            <a href=\"#\" className=\"nav-link dropdown-toggle\" data-toggle=\"dropdown\">\r\n                                <i className=\"fa fa-user\"></i> Welcome {currentUser.username}\r\n                            </a>\r\n                            <div className=\"dropdown-menu\">\r\n                                <Link to={currentUser.isAdmin ? \"/admin/profile\" : \"/user/1/profile\"} className=\"dropdown-item\">\r\n                                    <i className=\"fa fa-user-circle\"></i> Profile\r\n                                </Link>\r\n                                <Link to=\"\" onClick={logout} className=\"dropdown-item\">\r\n                                    <i className=\"fa fa-user-times\"></i> Logout\r\n                                </Link>\r\n                            </div>\r\n                        </li>\r\n                        <li className=\"nav-item\">\r\n                            <Link to=\"/user/1/notification\" className=\"nav-link\">\r\n                                <i className=\"fa fa-bell\"></i><span className=\"badge badge-danger badge-pill\">2</span>\r\n                            </Link>\r\n                        </li>\r\n                    </ul>\r\n                ) : (\r\n                    <Link to=\"/signUp\" className=\"btn btn-primary btn-sm ml-auto\">Sign up</Link>\r\n                )}\r\n            </div>\r\n        </div>\r\n    </nav>\r\n);\r\n\r\nconst SearchBar = ({ handleSubmit }) => (\r\n    <section id=\"search_bar\" className=\"my-3 py-4\" style={{ background: 'rgb(52, 185, 174)' }}>\r\n        <div className=\"container\">\r\n            <form action=\"/books/all/all/1\" method=\"POST\" onSubmit={handleSubmit}>\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-5 p-1\">\r\n                        <select name=\"filter\" id=\"filter\" className=\"form-control\">\r\n                            <option selected disabled>Select Filter...</option>\r\n                            <option value=\"title\">Title</option>\r\n                            <option value=\"author\">Author</option>\r\n                            <option value=\"category\">Category</option>\r\n                            <option value=\"ISBN\">ISBN</option>\r\n                        </select>\r\n                    </div>\r\n                    <div className=\"col-md-5 p-1\">\r\n                        <input\r\n                            name=\"searchName\"\r\n                            id=\"searchName\"\r\n                            type=\"text\"\r\n                            className=\"form-control\"\r\n                            placeholder=\"Search Books\"\r\n                        />\r\n                    </div>\r\n                    <div className=\"col-md-2 p-1\">\r\n                        <input\r\n                            type=\"submit\"\r\n                            id=\"search-book-btn\"\r\n                            className=\"btn btn-warning btn-block\"\r\n                            value=\"Search\"\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </section>\r\n);\r\n\r\nconst BookCard = ({ book, currentUser, handleRequest, current }) => (\r\n    <div className=\"card col-md-3 text-center\" style={{ marginBottom: '10px' }}>\r\n        <div className=\"card-body\">\r\n            <h5 className=\"card-title\">{book.title}</h5>\r\n            <p><small style={{ color: 'red' }}>Author: {book.author}</small></p>\r\n            <p><small style={{ color: 'rgb(20, 168, 40)' }}>Category: {book.category}</small></p>\r\n            <p><small style={{ color: 'rgb(52, 33, 219)' }}>In stock: {book.stock}</small></p>\r\n            {currentUser && book.stock >= 0 && (\r\n                <>\r\n                    {currentUser.bookIssueInfo?.some(book_info => book_info._id === book._id) ? (\r\n                        <>\r\n                            <a href=\"#\" className=\"btn btn-xs btn-warning disabled\" role=\"button\" aria-disabled=\"true\">Issued!</a>\r\n                            <Link to=\"/books/return-renew\" className=\"btn btn-xs btn-success\" role=\"button\">Return/Renew</Link>\r\n                        </>\r\n                    ) : currentUser.bookRequestInfo?.some(book_info => book_info._id === book._id) ? (\r\n                        <a href=\"#\" className=\"btn btn-xs btn-warning disabled\" role=\"button\" aria-disabled=\"true\">Requested!</a>\r\n                    ) : (\r\n                        <form\r\n                            action={`/api/books/${book._id}/request/${currentUser._id}/${current}`}\r\n                            method=\"POST\"\r\n                            className=\"d-inline\"\r\n                            onSubmit={handleRequest}\r\n                        >\r\n                            <input className=\"btn btn-sm btn-warning\" type=\"submit\" value=\"request\" />\r\n                        </form>\r\n                    )}\r\n                </>\r\n            )}\r\n            <Link to={`/books/details/${book._id}`} className=\"btn btn-sm btn-success\">Details</Link>\r\n        </div>\r\n    </div>\r\n);\r\n\r\nconst Books = ({ books, currentUser, handleRequest, current }) => (\r\n    <Suspense fallback={<Loading />}>\r\n        <section id=\"browse_books\" className=\"mt-5\">\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    {books.map((book, i) => (\r\n                        <BookCard key={i} book={book} currentUser={currentUser} handleRequest={handleRequest} current={current} />\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        </section>\r\n    </Suspense>\r\n);\r\n\r\nconst Pagination = ({ pages, current, filter, value, handlePagination }) => (\r\n    <nav className=\"ml-3 mb-2\" style={{ marginTop: '20px' }}>\r\n        <ul className=\"pagination offset-md-3\">\r\n            <li className={`page-item ${current === 1 ? 'disabled' : ''}`}>\r\n                <a className=\"page-link\" href=\"#\" onClick={(e) => { e.preventDefault(); handlePagination(`/api/books/${filter}/${value}/1`) }}>\r\n                    First\r\n                </a>\r\n            </li>\r\n            {Array.from({ length: Math.min(pages, 5) }, (_, i) => {\r\n                const startPage = Math.max(1, Math.min(current - 2, pages - 4));\r\n                return startPage + i;\r\n            }).map(i => (\r\n                <li className={`page-item ${i === current ? 'active' : ''}`} key={i}>\r\n                    <a className=\"page-link\" href=\"#\" onClick={(e) => { e.preventDefault(); handlePagination(`/api/books/${filter}/${value}/${i}`) }}>\r\n                        {i}\r\n                    </a>\r\n                </li>\r\n            ))}\r\n            <li className={`page-item ${current < pages ? '' : 'disabled'}`}>\r\n                <a className=\"page-link\" href=\"#\" onClick={(e) => { e.preventDefault(); handlePagination(`/api/books/${filter}/${value}/${pages}`) }}>\r\n                    Last\r\n                </a>\r\n            </li>\r\n        </ul>\r\n    </nav>\r\n);\r\n\r\nconst BooksPage = () => {\r\n    const [books, setBooks] = useState([]);\r\n    const [pages, setPages] = useState(0);\r\n    const [current, setCurrent] = useState(1);\r\n    const [filter, setFilter] = useState('all');\r\n    const [value, setValue] = useState('all');\r\n    const [currentUser, setCurrentUser] = useState(null);\r\n    const [error, setError] = useState('');\r\n    const [success, setSuccess] = useState('');\r\n    let cd = 1\r\n    useEffect(() => {\r\n        fetchBooks = async () => {\r\n            try {\r\n                const response = await axios.get(`/api/books/all/all/1`);\r\n                const { books, current, pages, filter, value, user } = response.data;\r\n                setBooks(books);\r\n                setCurrent(current);\r\n                setPages(pages);\r\n                setFilter(filter);\r\n                setValue(value);\r\n                setCurrentUser(user);\r\n            } catch (error) {\r\n                setError('Failed to fetch books. Please try again later.');\r\n            }\r\n        };\r\n        fetchBooks();\r\n    }, []);\r\n\r\n    const handlePagination = useCallback(async (lnk) => {\r\n        try {\r\n            const response = await axios.get(lnk);\r\n            const { books, current, pages, filter, value } = response.data;\r\n            setBooks(books);\r\n            setCurrent(current);\r\n            setPages(pages);\r\n            setFilter(filter);\r\n            setValue(value);\r\n        } catch (error) {\r\n            console.error('Error handling pagination:', error);\r\n            setError('Failed to load page. Please try again.');\r\n        }\r\n    }, []);\r\n\r\n    const handleSubmit = useCallback(async (event) => {\r\n        event.preventDefault();\r\n        const formData = new FormData(event.target);\r\n        const searchParams = new URLSearchParams(formData).toString();\r\n        try {\r\n            const response = await axios.post(event.target.action, searchParams, {\r\n                headers: {\r\n                    'Content-Type': 'application/x-www-form-urlencoded'\r\n                }\r\n            });\r\n            if (response.data.error) return setError(response.data.error);\r\n            const { books, current, pages, filter, value } = response.data;\r\n            setBooks(books);\r\n            setCurrent(current);\r\n            setPages(pages);\r\n            setFilter(filter);\r\n            setValue(value);\r\n        } catch (error) {\r\n            console.error('Error submitting search:', error);\r\n            setError('Search failed. Please try again.');\r\n        }\r\n    }, []);\r\n\r\n    const handleRequest = useCallback(async (e) => {\r\n        e.preventDefault();\r\n        const formData = new FormData(e.target);\r\n        const searchParams = new URLSearchParams(formData).toString();\r\n        try {\r\n            const response = await axios.post(e.target.action, searchParams, {\r\n                headers: {\r\n                    'Content-Type': 'application/x-www-form-urlencoded'\r\n                }\r\n            });\r\n            if (response.data.error) return setError(response.data.error);\r\n            if (response.data.success) setSuccess(response.data.success);\r\n            if (response.data.current) cd = response.data.current\r\n            const fetchBooks1 = async () => {\r\n                try {\r\n                    const response = await axios.get(`/api/books/all/all/${cd}`);\r\n                    const { books, current, pages, filter, value, user } = response.data;\r\n                    setBooks(books);\r\n                    setCurrent(current);\r\n                    setPages(pages);\r\n                    setFilter(filter);\r\n                    setValue(value);\r\n                    setCurrentUser(user);\r\n                } catch (error) {\r\n                    setError('Failed to fetch books. Please try again later.');\r\n                }\r\n            };\r\n            fetchBooks1();\r\n        } catch (error) {\r\n            console.error('Error requesting book:', error);\r\n            setError('Request failed. Please try again.');\r\n        }\r\n    }, []);\r\n\r\n    const logout = useCallback(async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            await axios.get(\"/auth/user-logout\");\r\n            window.location.reload();\r\n        } catch (error) {\r\n            console.error('Error logging out:', error);\r\n            setError('Logout failed. Please try again.');\r\n        }\r\n    }, []);\r\n\r\n    const dismissAlert = (type) => {\r\n        if (type === 'error') {\r\n            setError('');\r\n        } else if (type === 'success') {\r\n            setSuccess('');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <Navbar currentUser={currentUser} logout={logout} />\r\n            <SearchBar handleSubmit={handleSubmit} />\r\n            <Alert error={error} success={success} dismissAlert={dismissAlert} />\r\n            <Books books={books} currentUser={currentUser} handleRequest={handleRequest} current={current} />\r\n            {pages > 0 && <Pagination pages={pages} current={current} filter={filter} value={value} handlePagination={handlePagination} />}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default BooksPage;","import React from 'react';\r\n\r\nconst Alert = ({ error, success, warning, dismissAlert }) => {\r\n    return (\r\n        <div className=\"container my-2 sticky-top\">\r\n            {error && error.length > 0 && (\r\n                <div className=\"alert alert-danger alert-dismissible fade show\" role=\"alert\">\r\n                    {error}\r\n                    <button\r\n                        type=\"button\"\r\n                        className=\"close\"\r\n                        data-dismiss=\"alert\"\r\n                        aria-label=\"Close\"\r\n                        onClick={() => dismissAlert('error')}\r\n                    >\r\n                        <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                </div>\r\n            )}\r\n            {success && success.length > 0 && (\r\n                <div className=\"alert alert-success alert-dismissible fade show\" role=\"alert\">\r\n                    {success}\r\n                    <button\r\n                        type=\"button\"\r\n                        className=\"close\"\r\n                        data-dismiss=\"alert\"\r\n                        aria-label=\"Close\"\r\n                        onClick={() => dismissAlert('success')}\r\n                    >\r\n                        <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                </div>\r\n            )}\r\n            {warning && warning.length > 0 && (\r\n                <div className=\"alert alert-warning alert-dismissible fade show\" role=\"alert\">\r\n                    {warning}\r\n                    <button\r\n                        type=\"button\"\r\n                        className=\"close\"\r\n                        data-dismiss=\"alert\"\r\n                        aria-label=\"Close\"\r\n                        onClick={() => dismissAlert('warning')}\r\n                    >\r\n                        <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Alert;\r\n"],"names":["fetchBooks","Navbar","_ref","currentUser","logout","_jsx","className","children","_jsxs","Link","to","isAdmin","type","id","violationFlag","href","username","onClick","SearchBar","_ref2","handleSubmit","style","background","action","method","onSubmit","name","selected","disabled","value","placeholder","BookCard","_ref3","_currentUser$bookIssu","_currentUser$bookRequ","book","handleRequest","current","marginBottom","title","color","author","category","stock","_Fragment","bookIssueInfo","some","book_info","_id","role","bookRequestInfo","concat","Books","_ref4","books","Suspense","fallback","Loading","map","i","Pagination","_ref5","pages","filter","handlePagination","marginTop","e","preventDefault","Array","from","length","Math","min","_","max","BooksPage","setBooks","useState","setPages","setCurrent","setFilter","setValue","setCurrentUser","error","setError","success","setSuccess","cd","useEffect","async","response","axios","get","user","data","useCallback","lnk","console","event","formData","FormData","target","searchParams","URLSearchParams","toString","post","headers","fetchBooks1","window","location","reload","Alert","dismissAlert","warning"],"sourceRoot":""}