"use strict";(self.webpackChunkfront_end=self.webpackChunkfront_end||[]).push([[600],{578:(e,s,a)=>{a.d(s,{A:()=>c});var t=a(43),l=a(216),n=a(475),r=a(213),i=a(579);const c=()=>{const[e,s]=(0,t.useState)(null);(0,t.useEffect)((()=>{(async()=>{try{const e=await r.A.get("/api/global/user");s(e.data.user)}catch(e){console.error("Error fetching user data:",e)}})()}),[]);const a=(0,l.Zp)();return(0,i.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark p-0",children:(0,i.jsxs)("div",{className:"container",children:[(0,i.jsx)(n.N_,{className:"navbar-brand",to:"/user/dashboard/1",children:"Home"}),(0,i.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:(0,i.jsx)("span",{className:"navbar-toggler-icon"})}),(0,i.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[(0,i.jsx)("ul",{className:"navbar-nav",children:(0,i.jsx)("li",{className:"nav-item px-2",children:(0,i.jsx)(n.N_,{className:"nav-link",to:"/books/",children:"Browse Books"})})}),e&&e.isAdmin&&(0,i.jsx)("ul",{className:"navbar-nav",children:(0,i.jsx)("li",{className:"nav-item px-2",children:(0,i.jsx)(n.N_,{className:"nav-link",to:"/admin",children:"Admin Dashboard"})})}),e&&(0,i.jsxs)("ul",{className:"navbar-nav ml-auto",children:[e.violationFlag&&(0,i.jsx)("li",{className:"nav-item align-self-center mr-2",children:(0,i.jsx)("i",{className:"fa fa-flag text-danger"})}),(0,i.jsxs)("li",{className:"nav-item dropdown mr-3",children:[(0,i.jsxs)("a",{href:"#",className:"nav-link dropdown-toggle","data-toggle":"dropdown",children:[(0,i.jsx)("i",{className:"fa fa-user"})," Welcome ",e.username]}),(0,i.jsxs)("div",{className:"dropdown-menu",children:[(0,i.jsxs)(n.N_,{to:"/user/1/profile",className:"dropdown-item",children:[(0,i.jsx)("i",{className:"fa fa-user-circle"})," Profile"]}),(0,i.jsxs)("a",{href:"",className:"dropdown-item",onClick:e=>(async e=>{try{e.preventDefault(),await r.A.get("/auth/1/user-logout"),a("/")}catch(s){a("/")}})(e),children:[(0,i.jsx)("i",{className:"fa fa-user-times"})," Logout"]})]})]}),(0,i.jsx)("li",{className:"nav-item",children:(0,i.jsxs)(n.N_,{to:"/user/1/notification",className:"nav-link",children:[(0,i.jsx)("i",{className:"fa fa-bell"}),(0,i.jsx)("span",{className:"badge badge-danger badge-pill",children:"2"})]})})]})]})]})})}},466:(e,s,a)=>{a.d(s,{A:()=>l});a(43);var t=a(579);const l=e=>{let{error:s,success:a,warning:l,dismissAlert:n}=e;return(0,t.jsxs)("div",{className:"container my-2 sticky-top",children:[s&&s.length>0&&(0,t.jsxs)("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:[s,(0,t.jsx)("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",onClick:()=>n("error"),children:(0,t.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),a&&a.length>0&&(0,t.jsxs)("div",{className:"alert alert-success alert-dismissible fade show",role:"alert",children:[a,(0,t.jsx)("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",onClick:()=>n("success"),children:(0,t.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),l&&l.length>0&&(0,t.jsxs)("div",{className:"alert alert-warning alert-dismissible fade show",role:"alert",children:[l,(0,t.jsx)("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",onClick:()=>n("warning"),children:(0,t.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]})]})}},600:(e,s,a)=>{a.r(s),a.d(s,{default:()=>h});var t=a(43),l=a(213),n=a(216),r=a(475),i=a(578),c=a(466),d=a(843),o=a(579);const h=()=>{const{page:e}=(0,n.g)(),[s,a]=(0,t.useState)(null),[h,x]=(0,t.useState)([]),[m,j]=(0,t.useState)(0),[u,g]=(0,t.useState)(Number(e)||1),[p,b]=(0,t.useState)(!0);(0,t.useEffect)((()=>{l.A.get("/api/user/".concat(u)).then((e=>{a(e.data.user),x(e.data.activities),j(e.data.pages)})).catch((e=>{console.error("Error fetching user data:",e)})).finally((()=>b(!1)))}),[u]);return p?(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(d.A,{})}):(0,o.jsxs)("div",{className:"dashboard-container",children:[(0,o.jsx)(i.A,{}),(0,o.jsx)("header",{id:"main-header",className:"py-2 bg-primary text-white",children:(0,o.jsx)("div",{className:"container",children:(0,o.jsx)("div",{className:"row",children:(0,o.jsx)("div",{className:"col-md-6",children:(0,o.jsxs)("h1",{children:[(0,o.jsx)("i",{className:"fa fa-gear"})," Dashboard"]})})})})}),(0,o.jsx)(c.A,{}),(0,o.jsx)("section",{id:"actions",className:"py-4 mb-4 bg-light",children:(0,o.jsx)("div",{className:"container",children:(0,o.jsxs)("div",{className:"row",children:[(0,o.jsx)("div",{className:"col-md-4",children:(0,o.jsxs)(r.N_,{to:"/books/",className:"btn btn-primary btn-block",children:[(0,o.jsx)("i",{className:"fa fa-plus"})," Request Book"]})}),(0,o.jsx)("div",{className:"col-md-4",children:(0,o.jsxs)(r.N_,{className:"btn btn-info btn-block",to:"/user/books/return-renew",children:[(0,o.jsx)("i",{className:"fa fa-retweet"})," Renew/Return Book"]})}),(0,o.jsx)("div",{className:"col-md-4",children:(0,o.jsxs)("a",{href:"",className:"btn btn-danger btn-block","data-toggle":"modal","data-target":"#payFineModal",children:[(0,o.jsx)("i",{className:"fa fa-credit-card"})," Pay fines"]})})]})})}),(0,o.jsx)("section",{id:"home",className:"mt-4",children:(0,o.jsx)("div",{className:"container",children:(0,o.jsxs)("div",{className:"row",children:[(0,o.jsx)("div",{className:"col-md-3",children:(0,o.jsxs)("div",{className:"card",children:[(0,o.jsx)("img",{src:"/images/user-profile/".concat(s.image),className:"card-img-top p-1",alt:"Profile"}),(0,o.jsxs)("div",{className:"card-body",children:[(0,o.jsxs)("p",{children:["Name: ",s.firstName," ",s.lastName]}),(0,o.jsxs)("p",{children:["Email: ",s.email]}),(0,o.jsxs)("p",{children:["Books Issued: ",s.bookIssueInfo.length]}),(0,o.jsxs)("p",{children:["Due: \u20b9",s.fines||0]}),(0,o.jsxs)("p",{children:["Flagged: ",s.violationFlag.toString()]}),(0,o.jsxs)("p",{children:["Joined: ",new Date(s.joined).toLocaleDateString()]})]})]})}),(0,o.jsx)("div",{className:"col-md-9",children:(0,o.jsxs)("div",{className:"card",children:[(0,o.jsx)("div",{className:"card-header text-center",children:(0,o.jsx)("h4",{children:"Recent Activities"})}),(0,o.jsxs)("table",{className:"table table-striped",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"Description"}),(0,o.jsx)("th",{children:"Category"}),(0,o.jsx)("th",{children:"Details"})]})}),(0,o.jsx)("tbody",{children:h.map((e=>{const s={year:"numeric",month:"long",day:"numeric"};return"Issue"===e.category?(0,o.jsxs)("tr",{children:[(0,o.jsxs)("td",{children:["You have ",(0,o.jsx)("span",{className:"table-text",children:" issued "}),(0,o.jsx)("span",{style:{color:"rgb(41, 0, 135)"},className:"table-text",children:e.info.title})]}),(0,o.jsx)("td",{children:e.category}),(0,o.jsxs)("td",{children:[(0,o.jsxs)("p",{children:["Issue: ",new Date(e.time.issueDate).toLocaleDateString(void 0,s)]}),(0,o.jsxs)("p",{children:["Return: ",new Date(e.time.returnDate).toLocaleDateString(void 0,s)]})]})]},e._id):"Return"===e.category?(0,o.jsxs)("tr",{children:[(0,o.jsxs)("td",{children:["You have ",(0,o.jsx)("span",{className:"table-text",children:" returned "}),(0,o.jsx)("span",{style:{color:"rgb(41, 0, 135)"},className:"table-text",children:e.info.title})]}),(0,o.jsx)("td",{children:e.category}),(0,o.jsx)("td",{children:(0,o.jsxs)("p",{children:["Return Date: ",new Date(e.entryTime).toLocaleDateString(void 0,s)]})})]},e._id):"Fine"===e.category?(0,o.jsxs)("tr",{children:[(0,o.jsxs)("td",{children:["You have ",(0,o.jsx)("span",{className:"table-text",children:" paid a fine "}),"for ",(0,o.jsx)("span",{style:{color:"rgb(41, 0, 135)"},className:"table-text",children:e.info.title})]}),(0,o.jsx)("td",{children:e.category}),(0,o.jsxs)("td",{children:[(0,o.jsxs)("p",{children:["Amount: \u20b9",e.info.amount]}),(0,o.jsxs)("p",{children:["Paid on: ",new Date(e.time.paidDate).toLocaleDateString(void 0,s)]})]})]},e._id):"Renewal"===e.category?(0,o.jsxs)("tr",{children:[(0,o.jsxs)("td",{children:["You have ",(0,o.jsx)("span",{className:"table-text",children:" renewed "}),(0,o.jsx)("span",{style:{color:"rgb(41, 0, 135)"},className:"table-text",children:e.info.title})]}),(0,o.jsx)("td",{children:e.category}),(0,o.jsxs)("td",{children:[(0,o.jsxs)("p",{children:["Renewal Date: ",new Date(e.time.renewalDate).toLocaleDateString(void 0,s)]}),(0,o.jsxs)("p",{children:["New Return Date: ",new Date(e.time.newReturnDate).toLocaleDateString(void 0,s)]})]})]},e._id):"Decline"===e.category?(0,o.jsxs)("tr",{children:[(0,o.jsxs)("td",{children:["Admin has ",(0,o.jsx)("span",{className:"table-text",children:" declined "})," request for your",(0,o.jsx)("span",{style:{color:"rgb(41, 0, 135)"},className:"table-text",children:e.info.title})]}),(0,o.jsx)("td",{children:e.category}),(0,o.jsx)("td",{children:new Date(e.entryTime).toDateString()})]},e._id):"Comment"===e.category?(0,o.jsxs)("tr",{children:[(0,o.jsxs)("td",{children:["You ",(0,o.jsx)("span",{className:"table-text",children:" commented "})," on",(0,o.jsx)("span",{style:{color:"rgb(41, 0, 135)"},className:"table-text",children:e.info.title})]}),(0,o.jsx)("td",{children:e.category}),(0,o.jsx)("td",{children:new Date(e.entryTime).toDateString()}),(0,o.jsx)("td",{children:(0,o.jsxs)("a",{href:"/books/details/".concat(e.info.id),className:"btn btn-sm btn-secondary",children:[(0,o.jsx)("i",{className:"fa fa-angle-double-right"})," Details"]})})]},e._id):"Update Profile"===e.category?(0,o.jsxs)("tr",{children:[(0,o.jsxs)("td",{children:["You have recently ",(0,o.jsx)("span",{className:"table-text",children:" updated your profile info "})]}),(0,o.jsx)("td",{children:e.category}),(0,o.jsx)("td",{children:new Date(e.entryTime).toDateString()}),(0,o.jsx)("td",{children:(0,o.jsx)("a",{href:"/user/1/profile",className:"btn btn-sm btn-success",role:"button",children:"Visit Profile"})})]},e._id):"Update Password"===e.category?(0,o.jsxs)("tr",{children:[(0,o.jsxs)("td",{children:["You have recently ",(0,o.jsx)("span",{className:"table-text",children:" updated your password "})]}),(0,o.jsx)("td",{children:e.category}),(0,o.jsx)("td",{children:new Date(e.entryTime).toDateString()}),(0,o.jsx)("td",{children:(0,o.jsx)("button",{className:"btn btn-sm btn-success",children:"Changed Successfully!"})})]},e._id):"Upload Photo"===e.category?(0,o.jsxs)("tr",{children:[(0,o.jsxs)("td",{children:["You have recently ",(0,o.jsx)("span",{className:"table-text",children:" updated your profile picture "})]}),(0,o.jsx)("td",{children:e.category}),(0,o.jsx)("td",{children:new Date(e.entryTime).toDateString()}),(0,o.jsx)("td",{children:(0,o.jsx)("button",{className:"btn btn-sm btn-success",children:"Changed Successfully!"})})]},e._id):"Update Comment"===e.category?(0,o.jsxs)("tr",{children:[(0,o.jsxs)("td",{children:["You have ",(0,o.jsx)("span",{className:"table-text",children:" updated your comment "})," on",(0,o.jsx)("span",{style:{color:"rgb(41, 0, 135)"},className:"table-text",children:e.info.title})]}),(0,o.jsx)("td",{children:e.category}),(0,o.jsx)("td",{children:new Date(e.entryTime).toDateString()}),(0,o.jsx)("td",{children:(0,o.jsxs)("a",{href:"/books/details/".concat(e.info.id),className:"btn btn-sm btn-secondary",children:[(0,o.jsx)("i",{className:"fa fa-angle-double-right"})," Details"]})})]},e._id):"Delete Comment"===e.category?(0,o.jsxs)("tr",{children:[(0,o.jsxs)("td",{children:["You have ",(0,o.jsx)("span",{className:"table-text",children:" deleted your comment "})," on",(0,o.jsx)("span",{style:{color:"rgb(41, 0, 135)"},className:"table-text",children:e.info.title})]}),(0,o.jsx)("td",{children:e.category}),(0,o.jsx)("td",{children:new Date(e.entryTime).toDateString()}),(0,o.jsx)("td",{children:(0,o.jsxs)("a",{href:"/books/details/".concat(e.info.id),className:"btn btn-sm btn-secondary",children:[(0,o.jsx)("i",{className:"fa fa-angle-double-right"})," Details"]})})]},e._id):"Return apply"===e.category?(0,o.jsxs)("tr",{children:[(0,o.jsxs)("td",{children:["You are ",(0,o.jsx)("span",{className:"table-text",children:" ready to return "}),(0,o.jsx)("span",{style:{color:"rgb(41, 0, 135)"},className:"table-text",children:e.info.title})]}),(0,o.jsx)("td",{children:e.category}),(0,o.jsx)("td",{children:(0,o.jsxs)("p",{children:["Return: ",new Date(e.entryTime).toDateString()]})})]},e._id):"Return decline"===e.category?(0,o.jsxs)("tr",{children:[(0,o.jsxs)("td",{children:["Admin has ",(0,o.jsx)("span",{className:"table-text",children:" declined "})," the request to return",(0,o.jsx)("span",{style:{color:"rgb(41, 0, 135)"},className:"table-text",children:e.info.title})]}),(0,o.jsx)("td",{children:e.category}),(0,o.jsx)("td",{children:(0,o.jsxs)("p",{children:["Return: ",new Date(e.entryTime).toDateString()]})})]},e._id):"Request"===e.category?(0,o.jsxs)("tr",{children:[(0,o.jsxs)("td",{children:["You have ",(0,o.jsx)("span",{className:"table-text",children:" requested "}),(0,o.jsx)("span",{style:{color:"rgb(41, 0, 135)"},className:"table-text",children:e.info.title})]}),(0,o.jsx)("td",{children:e.category}),(0,o.jsx)("td",{children:new Date(e.entryTime).toDateString()})]},e._id):null}))})]}),(()=>{const e=[];let s=u>5?u-4:1;1!==s&&e.push((0,o.jsx)("li",{className:"page-item disabled",children:(0,o.jsx)("span",{className:"page-link",children:"..."})},"ellipsis-start"));for(let a=s;a<=u+4&&a<=m;a++)e.push((0,o.jsx)("li",{className:"page-item ".concat(a===u?"active":""),children:(0,o.jsx)("a",{className:"page-link",onClick:()=>g(a),children:a})},a)),a===u+4&&a<m&&e.push((0,o.jsx)("li",{className:"page-item disabled",children:(0,o.jsx)("span",{className:"page-link",children:"..."})},"ellipsis-end"));return(0,o.jsx)("nav",{className:"pagination-container d-flex justify-content-center",children:(0,o.jsxs)("ul",{className:"pagination",children:[1===u?(0,o.jsx)("li",{className:"page-item disabled",children:(0,o.jsx)("span",{className:"page-link",children:"First"})}):(0,o.jsx)("li",{className:"page-item",children:(0,o.jsx)("a",{className:"page-link",onClick:()=>g(1),children:"First"})}),e,u===m?(0,o.jsx)("li",{className:"page-item disabled",children:(0,o.jsx)("span",{className:"page-link",children:"Last"})}):(0,o.jsx)("li",{className:"page-item",children:(0,o.jsx)("a",{className:"page-link",onClick:()=>g(m),children:"Last"})})]})})})()]})})]})})}),(0,o.jsx)("div",{className:"modal fade",id:"payFineModal",children:(0,o.jsx)("div",{className:"modal-dialog modal-lg",children:(0,o.jsxs)("div",{className:"modal-content",children:[(0,o.jsxs)("div",{className:"modal-header bg-danger text-white",children:[(0,o.jsx)("h5",{className:"modal-title",id:"payFineModalLabel",children:"Pay Fine"}),(0,o.jsx)("button",{className:"close","data-dismiss":"modal","aria-label":"Close",children:(0,o.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,o.jsx)("div",{className:"modal-body",children:(0,o.jsxs)("form",{children:[(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{htmlFor:"amount",children:"Amount to Pay"}),(0,o.jsx)("input",{type:"number",className:"form-control",id:"amount",required:!0})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{htmlFor:"paymentMethod",children:"Payment Method"}),(0,o.jsxs)("select",{className:"form-control",id:"paymentMethod",required:!0,children:[(0,o.jsx)("option",{value:"cash",children:"Cash"}),(0,o.jsx)("option",{value:"card",children:"Card"})]})]}),(0,o.jsx)("div",{className:"form-group",children:(0,o.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Pay"})})]})})]})})})]})}}}]);
//# sourceMappingURL=600.bd28b4a7.chunk.js.map