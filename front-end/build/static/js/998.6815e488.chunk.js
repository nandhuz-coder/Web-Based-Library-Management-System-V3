"use strict";(self.webpackChunkfront_end=self.webpackChunkfront_end||[]).push([[998],{998:(e,a,s)=>{s.r(a),s.d(a,{default:()=>d});var n=s(43),t=s(475),i=s(213),c=s(314),l=s(843),r=s(579);const d=()=>{const[e,a]=(0,n.useState)([]),[s,d]=(0,n.useState)(0),[o,m]=(0,n.useState)(1),[h,x]=(0,n.useState)(0),[j,u]=(0,n.useState)(0),[N,p]=(0,n.useState)(!0);(0,n.useEffect)((()=>{(async()=>{try{const e=(await i.A.get("/admin/1")).data;a(e.activities),d(e.pages),m(e.current),x(e.books_count),u(e.users_count),p(!1)}catch(e){console.error("Error fetching data",e),p(!1)}})()}),[]);const g=(0,n.useCallback)((async e=>{try{const s=(await i.A.get(e)).data;a(s.activities),d(s.pages),m(s.current),x(s.books_count),u(s.users_count)}catch(s){console.error("Error handling pagination:",s)}}),[]);return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(n.Suspense,{fallback:(0,r.jsx)(l.A,{}),children:[(0,r.jsx)(c.A,{}),(0,r.jsx)("header",{id:"main-header",className:"py-2 bg-primary text-white",children:(0,r.jsx)("div",{className:"container",children:(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col-md-6",children:(0,r.jsxs)("h1",{children:[(0,r.jsx)("i",{className:"fa fa-gear"})," Dashboard"]})})})})}),(0,r.jsx)("section",{id:"actions",className:"py-4",children:(0,r.jsx)("div",{className:"container",children:(0,r.jsx)("div",{className:"row justify-content-end",children:(0,r.jsx)("div",{className:"col-md-6",children:(0,r.jsx)("form",{onSubmit:e=>null,children:(0,r.jsxs)("div",{className:"input-group",children:[(0,r.jsx)("input",{name:"searchUser",type:"text",id:"search",className:"form-control",placeholder:"Find activities by username, category"}),(0,r.jsx)("span",{className:"input-group-btn",children:(0,r.jsx)("button",{className:"btn btn-primary",children:"Search"})})]})})})})})}),(0,r.jsx)("section",{className:"py-4",children:(0,r.jsx)("div",{className:"container",children:(0,r.jsx)(t.N_,{to:"/admin/mail/config/1",className:"btn btn-warning",children:"Mail config"})})}),(0,r.jsx)("section",{id:"posts",className:"my-5",children:(0,r.jsx)("div",{className:"container",children:(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-md-9",children:(0,r.jsxs)("div",{className:"card",children:[(0,r.jsx)("div",{className:"card-header text-center",children:(0,r.jsx)("h4",{children:"Recent User Activities"})}),(0,r.jsxs)("table",{className:"table table-striped",children:[(0,r.jsx)("thead",{className:"thead-inverse",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Info"}),(0,r.jsx)("th",{children:"Category"}),(0,r.jsx)("th",{children:"Date Posted"})]})}),(0,r.jsxs)("tbody",{children:[N&&(0,r.jsx)(l.A,{}),e.map(((e,a)=>(0,r.jsxs)("tr",{children:[(0,r.jsxs)("td",{children:[(0,r.jsx)(t.N_,{to:"/admin/users/profile/".concat(e.user_id.id),title:"Visit profile",children:e.user_id.username||"This user"})," ","Issue"===e.category&&"issued ".concat(e.info.title),"Return"===e.category&&"returned ".concat(e.info.title),"Request"===e.category&&"requested ".concat(e.info.title),"Return apply"===e.category&&"requested to return ".concat(e.info.title),"Return decline"===e.category&&"admin declined ".concat(e.info.title),"Decline"===e.category&&(0,r.jsxs)(r.Fragment,{children:["request of "," ",(0,r.jsx)("span",{style:{color:"red"},children:e.info.title})," declined by admin "," "]}),"Renew"===e.category&&"renewed ".concat(e.info.title),"Update Profile"===e.category&&"updated profile","Update Password"===e.category&&"updated password","Upload Photo"===e.category&&"uploaded profile photo","Comment"===e.category&&"commented ".concat(e.info.title),"Update Comment"===e.category&&"updated comment on ".concat(e.info.title),"Delete Comment"===e.category&&"deleted comment on ".concat(e.info.title)]}),(0,r.jsx)("td",{children:e.category}),(0,r.jsx)("td",{children:new Date(e.entryTime).toDateString()})]},a)))]})]}),s>0&&(0,r.jsx)("nav",{className:"mx-auto mb-2",children:(0,r.jsxs)("ul",{className:"pagination",children:[1===o?(0,r.jsx)("li",{className:"page-item disabled",children:(0,r.jsx)("button",{className:"page-link",disabled:!0,children:"First"})}):(0,r.jsx)("li",{className:"page-item",children:(0,r.jsx)("button",{onClick:()=>g("/admin/1"),className:"page-link",children:"First"})}),Array.from({length:s},((e,a)=>a+1)).map((e=>e===o?(0,r.jsx)("li",{className:"page-item active",children:(0,r.jsx)("button",{className:"page-link",disabled:!0,children:e})},e):(0,r.jsx)("li",{className:"page-item",children:(0,r.jsx)("button",{className:"page-link",onClick:()=>g("/admin/".concat(e)),children:e})},e))),o===s?(0,r.jsx)("li",{className:"page-item disabled",children:(0,r.jsx)("button",{className:"page-link",disabled:!0,children:"Last"})}):(0,r.jsx)("li",{className:"page-item",children:(0,r.jsx)("button",{className:"page-link",onClick:()=>g("/admin/".concat(s)),children:"Last"})})]})})]})}),(0,r.jsxs)("div",{className:"col-md-3 mt-5",children:[(0,r.jsx)("div",{className:"card text-center bg-primary text-white p-3 mb-3",children:(0,r.jsxs)("div",{className:"card-block",children:[(0,r.jsx)("h3",{children:"Books"}),(0,r.jsxs)("h1",{className:"display-4",children:[(0,r.jsx)("i",{className:"fa fa-pencil"})," ",h]}),(0,r.jsx)(t.N_,{to:"/admin/books/bookInventory/",id:"add_books",className:"btn btn-outline-light",children:"View"})]})}),(0,r.jsx)("div",{className:"card text-center bg-success text-white p-3 mb-3",children:(0,r.jsxs)("div",{className:"card-block",children:[(0,r.jsx)("h3",{children:"Users"}),(0,r.jsxs)("h1",{className:"display-4",children:[(0,r.jsx)("i",{className:"fa fa-users"})," ",j]}),(0,r.jsx)(t.N_,{to:"/admin/1/users/",className:"btn btn-outline-light",children:"Users"})]})})]})]})})})]})})}},314:(e,a,s)=>{s.d(a,{A:()=>r});var n=s(43),t=s(213),i=s(216),c=s(475),l=s(579);const r=()=>{const[e,a]=(0,n.useState)([]),[s,r]=(0,n.useState)(),d=async()=>{try{const e=await t.A.get("/api/global"),s=await e.data;a(s.global),r(s.currentUser)}catch(e){console.error("Error fetching data",e)}};(0,n.useEffect)((()=>{d();const e=setInterval((()=>{d()}),6e4);return()=>clearInterval(e)}),[]);const o=(0,i.Zp)();return(0,l.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark p-0 sticky-top",children:(0,l.jsxs)("div",{className:"container",children:[(0,l.jsx)("a",{className:"navbar-brand",href:"/admin",children:"Home"}),(0,l.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:(0,l.jsx)("span",{className:"navbar-toggler-icon"})}),(0,l.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[(0,l.jsxs)("ul",{className:"navbar-nav",children:[(0,l.jsx)("li",{className:"nav-item px-2",children:(0,l.jsx)(c.N_,{to:"/admin/books/bookInventory/",id:"book_inventory",title:"Book Inventory",className:"nav-link",children:"Book Inventory"})}),(0,l.jsx)("li",{className:"nav-item px-2",children:(0,l.jsx)(c.N_,{to:"/admin/1/users/",id:"users_list",title:"Users",className:"nav-link",children:"Users"})}),(0,l.jsx)("li",{className:"nav-item px-2",children:(0,l.jsx)(c.N_,{to:"/admin/1/addbook",id:"add_book",title:"Add Books",className:"nav-link",children:"Add Books"})}),(0,l.jsx)("li",{className:"nav-item px-2",children:(0,l.jsxs)(c.N_,{to:"/admin/1/book/stockout",id:"stock_out",title:"Stock Out",className:"nav-link",children:["StockOut\xa0",(0,l.jsx)("span",{className:"badge badge-danger",children:e.stock?e.stock:0})]})}),(0,l.jsx)("li",{className:"nav-item px-2",children:(0,l.jsxs)(c.N_,{to:"/admin/1/book/request",id:"request",title:"request",className:"nav-link",children:["Request\xa0",(0,l.jsx)("span",{className:"badge badge-success",children:e.reqbook?e.reqbook:0})]})}),(0,l.jsx)("li",{className:"nav-item px-2",children:(0,l.jsxs)(c.N_,{to:"/admin/1/book/return",id:"return",title:"return",className:"nav-link",children:["Return\xa0",(0,l.jsx)("span",{className:"badge badge-warning",children:e.return?e.return:0})]})}),(0,l.jsx)("li",{className:"nav-item px-2",children:(0,l.jsx)(c.N_,{to:"/books",title:"Browse Books",className:"nav-link",children:"Browse Books"})})]}),(0,l.jsx)("ul",{className:"navbar-nav ml-auto",children:s?(0,l.jsxs)("li",{className:"nav-item dropdown mr-3",children:[(0,l.jsxs)("a",{href:"#",className:"nav-link dropdown-toggle","data-toggle":"dropdown",id:"admin-drop-down",children:[(0,l.jsx)("i",{className:"fa fa-user"})," Welcome ",s.username]}),(0,l.jsxs)("div",{className:"dropdown-menu",children:[(0,l.jsxs)(c.N_,{to:"/admin/1/profile",title:"profile",className:"dropdown-item",children:[(0,l.jsx)("i",{className:"fa fa-user-circle"})," Profile"]}),(0,l.jsxs)("a",{href:"",onClick:e=>(async e=>{try{e.preventDefault(),await t.A.get("/auth/1/user-logout"),o("/")}catch(a){o("/")}})(e),className:"dropdown-item",children:[(0,l.jsx)("i",{className:"fa fa-user-times"})," Logout"]}),(0,l.jsxs)(c.N_,{className:"dropdown-item",to:"/user/dashboard/1",children:[(0,l.jsx)("i",{className:"fa fa-gear"})," User Dashboard"]})]})]}):(0,l.jsx)("li",{className:"nav-item",children:(0,l.jsxs)("a",{href:"/login",className:"nav-link",children:[(0,l.jsx)("i",{className:"fa fa-gear"})," ProfileLogin"]})})})]})]})})}}}]);
//# sourceMappingURL=998.6815e488.chunk.js.map