{"version":3,"file":"static/js/24.12a11406.chunk.js","mappings":"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","sources":["book/book-details.jsx","partials/Header/User-nav/user-nav.jsx","partials/Header/alert/alert.jsx","partials/Header/nav/nav.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useParams } from 'react-router-dom';\r\nimport UserNav from \"../partials/Header/User-nav/user-nav\";\r\nimport Navbar from \"../partials/Header/nav/nav\";\r\nimport Alert from \"../partials/Header/alert/alert\";\r\n\r\nconst BooksDetails = () => {\r\n    const { bookid } = useParams();\r\n    const [book, setBook] = useState({});\r\n    const [error, setError] = useState('');\r\n    const [success, setSuccess] = useState('');\r\n    const [currentUser, setCurrentUser] = useState(null);\r\n    const [user, setUser] = useState(false);\r\n    const [comment, setComment] = useState('');\r\n    const [comments, setComments] = useState([]);\r\n    const [editCommentId, setEditCommentId] = useState(null);\r\n    const [editCommentText, setEditCommentText] = useState('');\r\n\r\n    useEffect(() => {\r\n        const fetchBookDetails = async () => {\r\n            try {\r\n                const res = await axios.get(`/api/books/details/${bookid}`);\r\n                const data = await res.data;\r\n                if (data.error) {\r\n                    setUser(data.IsUser);\r\n                    setError(data.error);\r\n                    return;\r\n                }\r\n                setUser(data.IsUser);\r\n                setBook(data.book);\r\n                setCurrentUser(data.user);\r\n                setComments(data.book.comments ? data.book.comments : []);\r\n            } catch (error) {\r\n                console.log(\"Error fetching book details:\", error);\r\n            }\r\n        };\r\n        fetchBookDetails();\r\n    }, [bookid]);\r\n\r\n    const handleCommentChange = (e) => {\r\n        setComment(e.target.value);\r\n    };\r\n\r\n    const handleCommentSubmit = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            const { data } = await axios.post(`/api/user/books/details/${book._id}/comment`, { comment });\r\n            if (data.error) return setError(data.error);\r\n            setSuccess(data.success);\r\n            setComments(data.comments);\r\n            setComment('');\r\n        } catch (error) {\r\n            console.error(\"Error submitting comment:\", error);\r\n        }\r\n    };\r\n\r\n    const handleDeleteComment = async (commentId) => {\r\n        try {\r\n            const { data } = await axios.delete(`/api/users/books/${book._id}/comments/${commentId}`);\r\n            setComments(data.comments);\r\n        } catch (error) {\r\n            console.error(\"Error deleting comment:\", error);\r\n        }\r\n    };\r\n\r\n    const handleEditComment = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            const { data } = await axios.post(`/api/user/books/details/edit/${book._id}/${editCommentId}`, { text: editCommentText });\r\n            setComments(data.comments);\r\n            setSuccess(data.success);\r\n            setEditCommentId(null);\r\n            setEditCommentText('');\r\n        } catch (error) {\r\n            console.error(\"Error editing comment:\", error);\r\n        }\r\n    };\r\n\r\n    const handleEditCommentChange = (e) => {\r\n        setEditCommentText(e.target.value);\r\n    };\r\n\r\n    const toggleEditCommentBox = (commentId, text) => {\r\n        setEditCommentId(commentId);\r\n        setEditCommentText(text);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            {user ? (<UserNav />) : (<Navbar />)}\r\n            <Alert error={error} dismissAlert={() => setError('')} />\r\n            <Alert success={success} dismissAlert={() => setSuccess('')} />\r\n            <div className=\"container mt-3\">\r\n                <div className=\"row justify-content-center\">\r\n                    <div className=\"col-md-10\">\r\n                        <div className=\"card\">\r\n                            <div className=\"card-header\" style={{ background: 'rgb(100, 170, 236)' }}>\r\n                                <h4 className=\"text-center\" style={{ color: 'green' }}>{book.title}</h4>\r\n                            </div>\r\n                            <h5 className=\"px-3 py-2\">\r\n                                <span style={{ color: 'red', fontWeight: 'bold' }}>Author: </span>{book.author}\r\n                            </h5>\r\n                            <h5 className=\"px-3 py-2\">\r\n                                <span style={{ color: 'red', fontWeight: 'bold' }}>ISBN: </span>{book.ISBN}\r\n                            </h5>\r\n                            <h5 className=\"px-3 py-2\">\r\n                                <span style={{ color: 'red', fontWeight: 'bold' }}>Category: </span>{book.category}\r\n                            </h5>\r\n                            <h5 className=\"px-3 py-2\">\r\n                                <span style={{ color: 'red', fontWeight: 'bold' }}>In Stock: </span>{book.stock}\r\n                            </h5>\r\n                            <div className=\"card-body\">\r\n                                <h6 className=\"card-text\" style={{ color: 'blue' }}>{book.description}</h6>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"card my-3 bg-light\">\r\n                            {user && currentUser && (\r\n                                <>\r\n                                    <p className=\"p-3\">\r\n                                        <button\r\n                                            className=\"btn btn-primary float-right\"\r\n                                            type=\"button\"\r\n                                            data-toggle=\"collapse\"\r\n                                            data-target=\"#collapseCommentBox\"\r\n                                            aria-expanded=\"false\"\r\n                                            aria-controls=\"collapseCommentBox\"\r\n                                        >\r\n                                            Leave a comment\r\n                                        </button>\r\n                                    </p>\r\n                                    <div className=\"collapse\" id=\"collapseCommentBox\">\r\n                                        <form onSubmit={handleCommentSubmit}>\r\n                                            <textarea name=\"comment\" className=\"form-control\" value={comment} onChange={handleCommentChange}></textarea>\r\n                                            <input type=\"submit\" className=\"btn btn-outline-success btn-sm m-1 float-right\" />\r\n                                        </form>\r\n                                    </div>\r\n                                </>\r\n                            )}\r\n\r\n                            <ul className=\"list-group list-group-flush\">\r\n                                {comments.map((comment) => (\r\n                                    <li className=\"list-group-item\" key={comment._id}>\r\n                                        <strong>{comment.author.username}</strong>\r\n                                        <span><em> at {new Date(comment.date).toDateString()}</em></span>\r\n                                        <p>{comment.text}</p>\r\n\r\n                                        {user && currentUser && comment.author.id === currentUser._id && (\r\n                                            <>\r\n                                                <button\r\n                                                    id=\"edit\"\r\n                                                    className=\"btn btn-primary px-1 py-0\"\r\n                                                    onClick={() => toggleEditCommentBox(comment._id, comment.text)}\r\n                                                >\r\n                                                    <i className=\"fa fa-pencil\"></i>\r\n                                                </button>\r\n\r\n                                                <form className=\"d-inline\" onSubmit={(e) => { e.preventDefault(); handleDeleteComment(comment._id); }}>\r\n                                                    <button className=\"btn btn-sm btn-danger px-1 py-0\">\r\n                                                        <i className=\"fa fa-trash\"></i>\r\n                                                    </button>\r\n                                                </form>\r\n\r\n                                                {editCommentId === comment._id && (\r\n                                                    <div id=\"editCommentBox\">\r\n                                                        <form onSubmit={handleEditComment}>\r\n                                                            <textarea\r\n                                                                name=\"comment[text]\"\r\n                                                                className=\"form-control\"\r\n                                                                value={editCommentText}\r\n                                                                onChange={handleEditCommentChange}\r\n                                                            ></textarea>\r\n                                                            <input type=\"submit\" className=\"btn btn-outline-success btn-sm m-1 float-right\" />\r\n                                                        </form>\r\n                                                    </div>\r\n                                                )}\r\n                                            </>\r\n                                        )}\r\n                                    </li>\r\n                                ))}\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default BooksDetails;","import React, { useEffect, useState } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nconst UserNav = () => {\r\n    const [currentUser, setUser] = useState(null);\r\n    useEffect(() => {\r\n        const fetchUser = async () => {\r\n            try {\r\n                const response = await axios.get('/api/global/user');\r\n                setUser(response.data.user);\r\n            } catch (error) {\r\n                console.error('Error fetching user data:', error);\r\n            }\r\n        };\r\n        fetchUser();\r\n    }, []);\r\n    const navigate = useNavigate();\r\n    const getUserLogout = async (e) => {\r\n        try {\r\n            e.preventDefault();\r\n            await axios.get('/auth/1/user-logout');\r\n            navigate('/');\r\n        } catch (error) {\r\n            navigate('/');\r\n        }\r\n    }\r\n    return (\r\n        <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark p-0\">\r\n            <div className=\"container\">\r\n                <Link className=\"navbar-brand\" to={\"/user/dashboard/1\"}>Home</Link>\r\n                <button\r\n                    className=\"navbar-toggler\"\r\n                    type=\"button\"\r\n                    data-toggle=\"collapse\"\r\n                    data-target=\"#navbarSupportedContent\"\r\n                    aria-controls=\"navbarSupportedContent\"\r\n                    aria-expanded=\"false\"\r\n                    aria-label=\"Toggle navigation\"\r\n                >\r\n                    <span className=\"navbar-toggler-icon\"></span>\r\n                </button>\r\n\r\n                <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n                    <ul className=\"navbar-nav\">\r\n                        <li className=\"nav-item px-2\">\r\n                            <Link className=\"nav-link\" to={\"/books/\"}>Browse Books</Link>\r\n                        </li>\r\n                    </ul>\r\n\r\n                    {currentUser && currentUser.isAdmin && (\r\n                        <ul className=\"navbar-nav\">\r\n                            <li className=\"nav-item px-2\">\r\n                                <Link className=\"nav-link\" to={\"/admin\"}>Admin Dashboard</Link>\r\n                            </li>\r\n                        </ul>\r\n                    )}\r\n\r\n                    {currentUser && (\r\n                        <ul className=\"navbar-nav ml-auto\">\r\n                            {currentUser.violationFlag && (\r\n                                <li className=\"nav-item align-self-center mr-2\">\r\n                                    <i className=\"fa fa-flag text-danger\"></i>\r\n                                </li>\r\n                            )}\r\n\r\n                            <li className=\"nav-item dropdown mr-3\">\r\n                                <a href=\"#\" className=\"nav-link dropdown-toggle\" data-toggle=\"dropdown\">\r\n                                    <i className=\"fa fa-user\"></i> Welcome {currentUser.username}\r\n                                </a>\r\n                                <div className=\"dropdown-menu\">\r\n                                    <Link to={\"/user/1/profile\"} className=\"dropdown-item\">\r\n                                        <i className=\"fa fa-user-circle\"></i> Profile\r\n                                    </Link>\r\n                                    <a href=\"\" className=\"dropdown-item\" onClick={(e) => getUserLogout(e)}>\r\n                                        <i className=\"fa fa-user-times\"></i> Logout\r\n                                    </a>\r\n                                </div>\r\n                            </li>\r\n\r\n                            <li className=\"nav-item\">\r\n                                <Link to={\"/user/1/notification\"} className=\"nav-link\">\r\n                                    <i className=\"fa fa-bell\"></i>\r\n                                    <span className=\"badge badge-danger badge-pill\">2</span>\r\n                                </Link>\r\n                            </li>\r\n                        </ul>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </nav>\r\n    );\r\n};\r\n\r\nexport default UserNav;\r\n","import React from 'react';\r\n\r\nconst Alert = ({ error, success, warning, dismissAlert }) => {\r\n    return (\r\n        <div className=\"container my-2 sticky-top\">\r\n            {error && error.length > 0 && (\r\n                <div className=\"alert alert-danger alert-dismissible fade show\" role=\"alert\">\r\n                    {error}\r\n                    <button\r\n                        type=\"button\"\r\n                        className=\"close\"\r\n                        data-dismiss=\"alert\"\r\n                        aria-label=\"Close\"\r\n                        onClick={() => dismissAlert('error')}\r\n                    >\r\n                        <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                </div>\r\n            )}\r\n            {success && success.length > 0 && (\r\n                <div className=\"alert alert-success alert-dismissible fade show\" role=\"alert\">\r\n                    {success}\r\n                    <button\r\n                        type=\"button\"\r\n                        className=\"close\"\r\n                        data-dismiss=\"alert\"\r\n                        aria-label=\"Close\"\r\n                        onClick={() => dismissAlert('success')}\r\n                    >\r\n                        <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                </div>\r\n            )}\r\n            {warning && warning.length > 0 && (\r\n                <div className=\"alert alert-warning alert-dismissible fade show\" role=\"alert\">\r\n                    {warning}\r\n                    <button\r\n                        type=\"button\"\r\n                        className=\"close\"\r\n                        data-dismiss=\"alert\"\r\n                        aria-label=\"Close\"\r\n                        onClick={() => dismissAlert('warning')}\r\n                    >\r\n                        <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Alert;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom'\r\nimport './nav.css'\r\nconst Navbar = () => {\r\n  return (\r\n    <nav className=\"navbar navbar-expand-lg navbar-dark sticky-top\">\r\n      <a className=\"navbar-brand\" href=\"#\">\r\n        <img\r\n          src=\"/image/other/purepng.com-booksbookillustratedwrittenprintedliteratureclipart-1421526451707uyace.png\"\r\n          width=\"30\"\r\n          height=\"30\"\r\n          className=\"d-inline-block align-top\"\r\n          alt=\"\"\r\n        />\r\n        Library Management System\r\n      </a>\r\n      <button\r\n        className=\"navbar-toggler\"\r\n        type=\"button\"\r\n        data-toggle=\"collapse\"\r\n        data-target=\"#navbarSupportedContent\"\r\n        aria-controls=\"navbarSupportedContent\"\r\n        aria-expanded=\"false\"\r\n        aria-label=\"Toggle navigation\"\r\n      >\r\n        <span className=\"navbar-toggler-icon\"></span>\r\n      </button>\r\n      <div className=\"collapse navbar-collapse\">\r\n        <ul className=\"navbar-nav mr-auto\">\r\n          <li className=\"nav-item pl-2\"><Link className='btn btn-success' to={'/auth/user-login'}>Login</Link></li>\r\n          <li className=\"nav-item pl-2\"><Link className='btn btn-success' to={'/auth/user-signup'}>User Sign Up</Link></li>\r\n          <li className=\"nav-item pl-2\"><Link className='btn btn-success' to={'/books/'}>Browse Books</Link></li>\r\n        </ul>\r\n        <form className=\"form-inline my-2 my-lg-0\">\r\n          <div className=\"input-group\">\r\n            <input\r\n              className=\"form-control mr-sm-2\"\r\n              type=\"text\"\r\n              placeholder=\"Search\"\r\n              aria-label=\"Search\"\r\n              style={{ marginRight: '0px' }}\r\n            />\r\n            <div className=\"input-group-append\">\r\n              <button className=\"btn btn-secondary btn-search\" type=\"button\">\r\n                <i className=\"fa fa-search\"></i>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n"],"names":["BooksDetails","bookid","useParams","book","setBook","useState","error","setError","success","setSuccess","currentUser","setCurrentUser","user","setUser","comment","setComment","comments","setComments","editCommentId","setEditCommentId","editCommentText","setEditCommentText","useEffect","async","res","axios","get","concat","data","IsUser","console","log","fetchBookDetails","handleEditComment","e","preventDefault","post","_id","text","handleEditCommentChange","target","value","_jsxs","_Fragment","children","_jsx","UserNav","Navbar","Alert","dismissAlert","className","style","background","color","title","fontWeight","author","ISBN","category","stock","description","type","id","onSubmit","name","onChange","map","username","Date","date","toDateString","onClick","toggleEditCommentBox","commentId","delete","handleDeleteComment","response","fetchUser","navigate","useNavigate","Link","to","isAdmin","violationFlag","href","getUserLogout","_ref","warning","length","role","src","width","height","alt","placeholder","marginRight"],"sourceRoot":""}